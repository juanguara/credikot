<odoo>
    <record id="view_crm_lead_form_inherit_crm_soap_state_hook" model="ir.ui.view">
        <field name="name">crm.lead.form.crm.soap.state.hook</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_set_won_rainbowman']" position="attributes">
                <attribute name="context">{'crm_soap_button_label': 'marcar como ganada', 'crm_soap_confirm_source': 'won_button'}</attribute>
            </xpath>
            <xpath expr="//button[@name='%(crm.crm_lead_lost_action)d']" position="attributes">
                <attribute name="context">{'crm_soap_button_label': 'marcar como perdida', 'crm_soap_confirm_source': 'lost_button'}</attribute>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="inside">
                <button name="action_call_ws_e03"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-exchange"
                        string="Genera Contrato"
                        help="Invoca el servicio aRiesgoPedido_WS_E03 para la solicitud actual."
                        invisible="not x_studio_solicitud"/>
                <button name="action_open_ws_e03_contract"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-file-text-o"
                        string="Ver Contrato"
                        help="Abre la Ãºltima URL de contrato generada."
                        invisible="not ws_e03_contract_url"/>
            </xpath>
        </field>
    </record>
</odoo>
